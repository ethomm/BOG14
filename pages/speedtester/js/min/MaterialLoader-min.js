THREE.MaterialLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.textures={}},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(e,i,a,t){var r=this,s=new THREE.XHRLoader(r.manager);s.setCrossOrigin(this.crossOrigin),s.load(e,function(e){i(r.parse(JSON.parse(e)))},a,t)},setCrossOrigin:function(e){this.crossOrigin=e},setTextures:function(e){this.textures=e},getTexture:function(e){var i=this.textures;return void 0===i[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),i[e]},parse:function(e){var i=new THREE[e.type];if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.shading&&(i.shading=e.shading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=this.getTexture(e.map)),void 0!==e.alphaMap&&(i.alphaMap=this.getTexture(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=this.getTexture(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=this.getTexture(e.normalMap)),e.normalScale&&(i.normalScale=new THREE.Vector2(e.normalScale,e.normalScale)),void 0!==e.displacementMap&&(i.displacementMap=this.getTexture(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.specularMap&&(i.specularMap=this.getTexture(e.specularMap)),void 0!==e.envMap&&(i.envMap=this.getTexture(e.envMap),i.combine=THREE.MultiplyOperation),e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=this.getTexture(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=this.getTexture(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.materials)for(var a=0,t=e.materials.length;t>a;a++)i.materials.push(this.parse(e.materials[a]));return i}};