function init(){scene=new THREE.Scene,renderer=new THREE.WebGLRenderer,camera=new THREE.PerspectiveCamera(45,windowWidth/windowHeight,.1,1e3),renderer.setClearColor(16777215),renderer.setSize(windowWidth,windowHeight);var e=new THREE.HemisphereLight(16777147,526368,1);e.intensity=2,scene.add(e),trackballControls=new THREE.TrackballControls(camera);var n=new THREE.ColladaLoader,o=0;n.options.convertUpAxis=!0,n.load("model/reaktor3.dae",function(e){model=e.scene,model.name="reaktor",model.scale.set(scale,scale,scale),model.position.y=-25,scene.add(model)}),camera.position.x=-60,camera.lookAt(scene.position),trackballControls.rotateSpeed=1,trackballControls.zoomSpeed=1,trackballControls.panSpeed=1,render()}function render(){var e=clock.getDelta();trackballControls.update(e),requestAnimationFrame(render),document.getElementById("output").appendChild(renderer.domElement),renderer.render(scene,camera)}function reSize(){windowHeight=window.innerHeight,windowWidth=window.innerWidth,renderer.setSize(windowWidth,windowHeight),camera.aspect=windowWidth/windowHeight,camera.updateProjectionMatrix()}function hovedform(){obj=scene.getObjectByName("hovedform_lukket"),obj.visible?obj.visible=!1:obj.visible=!0}function onDocumentMouseDown(e){var n=new THREE.Vector3(e.clientX/windowWidth*2-1,2*-(e.clientY/windowHeight)+1,.5);n=n.unproject(camera);var o=new THREE.Raycaster(camera.position,n.sub(camera.position).normalize()),r=o.intersectObjects(scene.children,!0),t=r[0],i=t.object.parent.parent.parent;("reaktor"===i.name||"reaktorkjerne"===i.name)&&hovedform()}var scene,renderer,camera,sphere,cube,trackballControls,windowHeight=window.innerHeight,windowWidth=window.innerWidth,clock=new THREE.Clock,projector=new THREE.Projector,scale=7,model=null;window.onload=init,window.onresize=reSize,document.addEventListener("mousedown",onDocumentMouseDown,!1);