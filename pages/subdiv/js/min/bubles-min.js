function init(){scene=new THREE.Scene,renderer=new THREE.WebGLRenderer,camera=new THREE.PerspectiveCamera(45,windowWidth/windowHeight,.1,1e3),renderer.setClearColor(16777215),renderer.setSize(windowWidth,windowHeight);var e=new THREE.HemisphereLight(16777147,526368,1);scene.add(e);var n=new THREE.CylinderGeometry(5,5,20,subdiv),r=new THREE.MeshPhongMaterial({map:vann,transparent:!0,depthTest:!0}),i=new THREE.Mesh(n,r);scene.add(i),sphere=new buble,sphere2=new buble,sphere.position.y=-10,scene.add(sphere),camera.position.x=-30,camera.position.y=20,camera.lookAt(scene.position),render()}function render(){requestAnimationFrame(render),document.getElementById("output").appendChild(renderer.domElement),renderer.render(scene,camera)}function reSize(){windowHeight=window.innerHeight,windowWidth=window.innerWidth,renderer.setSize(windowWidth,windowHeight),camera.aspect=windowWidth/windowHeight,camera.updateProjectionMatrix()}var scene,renderer,camera,sphere,windowHeight=window.innerHeight,windowWidth=window.innerWidth,textureLoader=new THREE.TextureLoader,scale=8,subdiv=18,vann=textureLoader.load("./images/water.png"),aplha=textureLoader.load("./images/alpa.png"),sphereGeometry=new THREE.SphereGeometry(.1,15,15),sphereMaterial=new THREE.MeshLambertMaterial({color:16777215,transparent:!1,wireframe:!1}),buble=function(){return new THREE.Mesh(sphereGeometry,sphereMaterial)};$(document).ready(function(){$("#oppdater").on("click",function(){subdiv=parseInt($("#sub").val()),init()})}),window.onload=init,window.onresize=reSize;