function init(){scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e4),camera.position.z=20,camera.position.x=30,camera.lookAt(scene.position);var e=new THREE.HemisphereLight(16777147,526368,1),n=new THREE.AmbientLight(3355443);scene.add(e),scene.add(n);var t=new THREE.ColladaLoader,r=0;t.options.convertUpAxis=!0,t.load("../opnelukke/model/reaktor3.dae",function(e){model=e.scene,model.name="reaktor",model.scale.set(scale,scale,scale),model.position.y=-25,model.rotation.set(0,2,0),doneloading(),scene.add(model),obj=scene.getObjectByName("hovedform_lukket"),obj.visible=!1}),renderer=new THREE.WebGLRenderer,renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(16711680),controls=new THREE.OrbitControls(camera,renderer.domElement),controls.enableDamping=!0,controls.dampingFactor=.25,controls.enableZoom=!0,clock=new THREE.Clock,document.getElementById("output").appendChild(renderer.domElement)}function initParticles(){particleGroup=new SPE.Group({texture:{value:textureLoader.load("./images/buble.png")}}),emitter=new SPE.Emitter({maxAge:{value:7},position:{value:new THREE.Vector3(0,-15,0),spread:new THREE.Vector3(8,0,8)},acceleration:{value:new THREE.Vector3(0,.05,0),spread:new THREE.Vector3(0,0,0)},velocity:{value:new THREE.Vector3(0,1,0),spread:new THREE.Vector3(.5,1,.5)},size:{value:[.1,.2,.4]},particleCount:500}),particleGroup.addEmitter(emitter),scene.add(particleGroup.mesh)}function animate(){requestAnimationFrame(animate),render(clock.getDelta())}function render(e){particleGroup.tick(e),renderer.render(scene,camera)}function doneloading(){$("#loader").hide(),$(".centerpadding").show()}var scene,camera,renderer,emitter,particleGroup,clock,scale=8,textureLoader=new THREE.TextureLoader;window.addEventListener("resize",function(){var e=window.innerWidth,n=window.innerHeight;camera.aspect=e/n,camera.updateProjectionMatrix(),renderer.setSize(e,n)},!1),$(document).ready(function(){$("#start").on("click",function(){emitter.enable(),$("#stop").toggle(),$("#start").toggle()}),$("#stop").on("click",function(){emitter.disable(),$("#stop").toggle(),$("#start").toggle()})}),init(),initParticles(),emitter.disable(),setTimeout(animate,0);